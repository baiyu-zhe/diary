// âŒäº®è‰²æ¨¡å¼ æœ‰ å‘¼å¸ç¯åŠ¨ç”»æ•ˆæžœ
// âœ…æš—è‰²æ¨¡å¼ æœ‰ å‘¼å¸ç¯åŠ¨ç”»æ•ˆæžœ

$desktop-min-width: 1080px; // ç§»åŠ¨ç«¯æ—¶ï¼Œå›žé€€åˆ° VitePress é»˜è®¤æ ·å¼

@mixin theme-transition($props: all) {
  transition: #{$props} var(--theme-duration, 0.35s) var(--theme-easing, ease-in-out);
}

@mixin set-css-var($name, $value) {
  --#{$name}: #{$value};
}

@function get-css-var($name, $fallback: null) {
  @if $fallback != null {
    @return var(--#{$name}, #{$fallback});
  }
  @return var(--#{$name});
}

@media (min-width: $desktop-min-width) {
  :root {
    @include set-css-var("theme-duration", 0.35s);
    @include set-css-var("theme-easing", ease-in-out);
    @include set-css-var("doc-card-radius", 20px);

    // ðŸŒ„ äº®è‰²æ¨¡å¼ åˆå§‹é˜´å½±è‰²
    @include set-css-var("doc-card-shadow-light", rgba(11, 198, 255, 0.637));

    // ðŸŒ† æš—è‰²æ¨¡å¼ åˆå§‹é˜´å½±è‰²
    @include set-css-var("doc-card-shadow-dark", rgba(255, 0, 170, 0));

    // ðŸŒ„äº®è‰²å¡ç‰‡ èƒŒæ™¯é¢œè‰²é…ç½®
    @include set-css-var("doc-card-bg-light", rgba(255, 255, 255, 0.055));

    // ðŸŒ†æš—è‰²å¡ç‰‡ èƒŒæ™¯é¢œè‰²é…ç½®
    @include set-css-var("doc-card-bg-dark", rgba(0, 0, 0, 0.048));
  }

  // ðŸŒ„ å‘¼å¸ç¯åŠ¨ç”» - é˜´å½±é¢œè‰² - äº®è‰²æ¨¡å¼ã€Œåªä¿ç•™æ ·å¼é…ç½®ï¼Œä½†ä¸ç”Ÿæ•ˆã€
  @keyframes breathing-shadow {
    0%,
    100% {
      box-shadow: 0 4px 16px rgba(11, 198, 255, 0.637);
    }
    50% {
      box-shadow: 0 4px 16px rgba(11, 198, 255, 0.637);
    }
  }

  // ðŸŒ† å‘¼å¸ç¯åŠ¨ç”» - é˜´å½±é¢œè‰² - æš—è‰²æ¨¡å¼
  @keyframes breathing-shadow-dark {
    0%,
    100% {
      box-shadow: 0 4px 16px rgba(255, 0, 170, 0.35);
    }
    50% {
      box-shadow: 0 4px 16px rgba(255, 0, 170, 0.05);
    }
  }

  .VPDoc .content-container > main,
  .kp-card,
  .tk-article-update {
    position: relative;
    flex: 1;
    max-width: get-css-var("doc-max-width") !important;
    width: 100%;
    padding: 32px !important;
    margin-left: 0 !important;
    border-radius: get-css-var("doc-card-radius");
    background-color: get-css-var("doc-card-bg-light");
    overflow: hidden;
    box-shadow: 0 4px 16px get-css-var("doc-card-shadow-light");
  }

  html.dark {
    .VPDoc .content-container > main,
    .kp-card,
    .tk-article-update {
      background-color: get-css-var("doc-card-bg-dark");
      box-shadow: 0 4px 16px rgba(255, 0, 170, 0);

      // ðŸŒ† æš—è‰²æ¨¡å¼ å‘¼å¸ç¯ åŠ¨ç”»æ—¶é—´ é…ç½®é¡¹
      animation: breathing-shadow-dark 3s ease-in-out infinite;
    }
  }

  .VPDocFooter,
  .tk-article-appreciation.tk-article-appreciation--doc-after {
    width: 100%;
    margin-top: 16px;
    padding: 16px 0;
    border-radius: 0;
    background-color: transparent;
    box-shadow: none;
    @include theme-transition("background-color");
  }

  // è¿‡æ¸¡æ•ˆæžœ
  html[layout-mode-animated="true"] {
    .VPNavBar > .wrapper > .container,
    .VPSidebar,
    .VPContent.has-sidebar,
    .VPDoc .container,
    .VPDoc.has-aside .content-container,
    .VPDocAsideOutline,
    .aside-wrapper {
      @include theme-transition("background-color, color");
    }
  }
}
